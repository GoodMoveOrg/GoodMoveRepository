<?xml version="1.0" encoding="UTF-8"?>
<!-- Sql Mapper -->
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member"> 	
<sql id="selectMember">
	SELECT ID,PASSWORD,NAME,ADDR,ADDR_DETAIL,TEL,JOB FROM GD_MEMBER
</sql>
<select id="findMemberById" resultType="memberVO">
<include refid="selectMember"></include>
WHERE ID=#{value}
</select>
<select id="login" resultType="memberVO" parameterType="memberVO">
 		<include refid="selectMember"></include>
 		WHERE ID=#{id} AND PASSWORD=#{password}  AND deletemember='TRUE'
 	</select>
 	<update id="updateMember" parameterType="memberVO">
		UPDATE GD_MEMBER SET PASSWORD=#{password},ADDR=#{addr},ADDR_DETAIL=#{addr_detail},TEL=#{tel},Job=#{job}
		WHERE ID=#{id}
	</update>
	<select id="getMemberCount" resultType="int">
 		SELECT COUNT(*) FROM GD_MEMBER
 	</select>
	<insert id="register" parameterType="memberVO">
		INSERT INTO GD_MEMBER(ID,PASSWORD,NAME,ADDR,ADDR_DETAIL,TEL,JOB)
		VALUES(#{id},#{password},#{name},#{addr},#{addr_detail},#{tel},#{job})
	</insert>
	<select id="idcheck" resultType="int">
		SELECT COUNT(*) FROM GD_MEMBER WHERE ID=#{value}
	</select>
		<select id="passwordCheck" resultType="String">
		SELECT COUNT(*) FROM GD_MEMBER WHERE PASSWORD=#{value}
	</select>
		<update id="deleteMember" parameterType="memberVO" > 
	UPDATE GD_MEMBER SET deletemember='FALSE' WHERE ID=#{id} AND PASSWORD=#{password}
	</update>
</mapper>
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
















